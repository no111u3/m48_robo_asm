;******************************************************************************
.include "m48def.inc"
.include "std/ram.inc"
.include "std/stack.inc"
.include "std/vectors.inc"

;******************************************************************************
; Data
;******************************************************************************
.dseg

;******************************************************************************
; Code
;******************************************************************************
.cseg

; Interrupt vector table ======================================================
.define reti_dummy_use
		int_vectors

; Reset Handler ===============================================================
reset_handler:
		setup_stack RAMEND ; Setup stack to the end of ram
		clear_ram_regs SRAM_START, RAMEND+1 ; Clear ram and registers
; Internal hardware init ======================================================
;==============================================================================

; Eternal hardware init =======================================================
;==============================================================================

; Run =========================================================================
start:

; Infinity end loop ===========================================================
		rjmp pc
;==============================================================================

;******************************************************************************
; Eeprom Data
;******************************************************************************
.eseg